<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Utilities for Interacting with the Posit Connect Server API • connectapi</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Utilities for Interacting with the Posit Connect Server API">
<meta name="description" content="Provides a helpful R6 class and methods for interacting with the Posit Connect Server API along with some meaningful utility functions for regular tasks. API documentation varies by Posit Connect installation and version, but the latest documentation is also hosted publicly at &lt;https://docs.posit.co/connect/api/&gt;.">
<meta property="og:description" content="Provides a helpful R6 class and methods for interacting with the Posit Connect Server API along with some meaningful utility functions for regular tasks. API documentation varies by Posit Connect installation and version, but the latest documentation is also hosted publicly at &lt;https://docs.posit.co/connect/api/&gt;.">
<meta property="og:image" content="https://pkgs.rstudio.com/connectapi/logo.svg">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">connectapi</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.4.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/connectapi_tags.html">connectapi Tags</a></li>
    <li><a class="dropdown-item" href="articles/content_permissions.html">Content Permissions</a></li>
    <li><a class="dropdown-item" href="articles/customize-http.html">Customize HTTP Requests</a></li>
    <li><a class="dropdown-item" href="articles/getting-started.html">Getting Started with connectapi</a></li>
    <li><a class="dropdown-item" href="articles/lifecycle-statuses.html">Lifecycle Statuses</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/rstudio/connectapi/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9">
<div class="section level1">
<div class="page-header">
<img src="logo.svg" class="logo" alt=""><h1 id="connectapi-">connectapi <a class="anchor" aria-label="anchor" href="#connectapi-"></a>
</h1>
</div>
<p>This package provides an R client for the <a href="https://docs.posit.co/connect/api/" class="external-link">Posit Connect Server API</a>, as well as helpful functions that utilize the client. It is designed to work with all supported versions of Connect, though some features may only be available to newer versions.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>To install from CRAN:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"connectapi"</span><span class="op">)</span></span></code></pre></div>
<p>To install the development version:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">'rstudio/connectapi'</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="client">Client<a class="anchor" aria-label="anchor" href="#client"></a>
</h2>
<p>To create a client:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://pkgs.rstudio.com/connectapi/">connectapi</a></span><span class="op">)</span></span>
<span><span class="va">client</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/connect.html">connect</a></span><span class="op">(</span></span>
<span>  server <span class="op">=</span> <span class="st">"https://connect.example.com"</span>,</span>
<span>  api_key <span class="op">=</span> <span class="st">"&lt;SUPER SECRET API KEY&gt;"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>You can also define the following environment variables (in a <code>.Renviron</code> file, for instance):</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a>CONNECT_SERVER  <span class="ot">=</span> https<span class="sc">:</span><span class="er">//</span>connect.example.com</span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a>CONNECT_API_KEY <span class="ot">=</span> my<span class="sc">-</span>secret<span class="sc">-</span>api<span class="sc">-</span>key</span></code></pre></div>
<p>These environment variable values will be used automatically if defined in your R session.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://pkgs.rstudio.com/connectapi/">connectapi</a></span><span class="op">)</span></span>
<span><span class="va">client</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/connect.html">connect</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="getting-started">Getting Started<a class="anchor" aria-label="anchor" href="#getting-started"></a>
</h2>
<p>Once a client is defined, you can use it to interact with Posit Connect.</p>
<div class="section level3">
<h3 id="exploring-data">Exploring Data<a class="anchor" aria-label="anchor" href="#exploring-data"></a>
</h3>
<p>You can use the <code>get_</code> methods to retrieve data from the Posit Connect server.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://pkgs.rstudio.com/connectapi/">connectapi</a></span><span class="op">)</span></span>
<span><span class="va">client</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/connect.html">connect</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># get data</span></span>
<span><span class="va">users</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_users.html">get_users</a></span><span class="op">(</span><span class="va">client</span><span class="op">)</span></span>
<span><span class="va">groups</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_groups.html">get_groups</a></span><span class="op">(</span><span class="va">client</span><span class="op">)</span></span>
<span><span class="va">usage_shiny</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_usage_shiny.html">get_usage_shiny</a></span><span class="op">(</span><span class="va">client</span><span class="op">)</span></span>
<span><span class="va">usage_static</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_usage_static.html">get_usage_static</a></span><span class="op">(</span><span class="va">client</span><span class="op">)</span></span>
<span><span class="va">some_content</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_content.html">get_content</a></span><span class="op">(</span><span class="va">client</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># get all content</span></span>
<span><span class="va">all_content</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_content.html">get_content</a></span><span class="op">(</span><span class="va">client</span>, limit <span class="op">=</span> <span class="cn">Inf</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="deployment">Deployment<a class="anchor" aria-label="anchor" href="#deployment"></a>
</h3>
<p>The <code>rsconnect</code> package is usually used for deploying content to Connect. However, if you want to use programmatic deployment with the Posit Connect Server API, then these <code>connectapi</code> helpers should be useful!</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://pkgs.rstudio.com/connectapi/">connectapi</a></span><span class="op">)</span></span>
<span><span class="va">client</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/connect.html">connect</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># deploying content</span></span>
<span><span class="co"># NOTE: a `manifest.json` should already exist from `rsconnect::writeManifest()`</span></span>
<span></span>
<span><span class="va">bundle</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/bundle_dir.html">bundle_dir</a></span><span class="op">(</span><span class="st">"./path/to/directory"</span><span class="op">)</span></span>
<span><span class="va">content</span> <span class="op">&lt;-</span> <span class="va">client</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/deploy.html">deploy</a></span><span class="op">(</span><span class="va">bundle</span>, name <span class="op">=</span> <span class="st">"my-app-name"</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/poll_task.html">poll_task</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># set an image for content</span></span>
<span></span>
<span><span class="va">content</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/set_thumbnail.html">set_thumbnail</a></span><span class="op">(</span><span class="st">"./my/local/image.png"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">content</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/set_thumbnail.html">set_thumbnail</a></span><span class="op">(</span><span class="st">"http://url.example.com/image.png"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># set image and a vanity URL</span></span>
<span></span>
<span><span class="va">content</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/set_thumbnail.html">set_thumbnail</a></span><span class="op">(</span><span class="st">"./my/local/image.png"</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/set_vanity_url.html">set_vanity_url</a></span><span class="op">(</span><span class="st">"/my-awesome-app"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># change access_type to "anyone"</span></span>
<span></span>
<span><span class="va">content</span><span class="op">$</span><span class="fu">update</span><span class="op">(</span>access_type <span class="op">=</span> <span class="st">"all"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># edit another piece of content</span></span>
<span></span>
<span><span class="va">client</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/content_item.html">content_item</a></span><span class="op">(</span><span class="st">"the-content-guid"</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/set_vanity_url.html">set_vanity_url</a></span><span class="op">(</span><span class="st">"/another-awesome-app"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># migrate content to another server</span></span>
<span></span>
<span><span class="va">client_prod</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/connect.html">connect</a></span><span class="op">(</span></span>
<span>  server <span class="op">=</span> <span class="st">"prod.example.com"</span>,</span>
<span>  api_key <span class="op">=</span> <span class="st">"my-secret-key"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">prod_bnd</span> <span class="op">&lt;-</span> <span class="va">client</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/content_item.html">content_item</a></span><span class="op">(</span><span class="st">"the-guid-to-promote"</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/download_bundle.html">download_bundle</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">client_prod</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/deploy.html">deploy</a></span><span class="op">(</span><span class="va">prod_bnd</span>, title <span class="op">=</span> <span class="st">"Now in Production"</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/set_vanity_url.html">set_vanity_url</a></span><span class="op">(</span><span class="st">"/my-app"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># open a browser to the content item</span></span>
<span><span class="va">client_prod</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="reference/browse.html">browse_dashboard</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">client_prod</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="reference/browse.html">browse_solo</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># open a browser to the docs</span></span>
<span><span class="va">client_prod</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="reference/browse.html">browse_api_docs</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="troubleshooting-and-faq">Troubleshooting and FAQ<a class="anchor" aria-label="anchor" href="#troubleshooting-and-faq"></a>
</h2>
<p><strong>Access Denied Errors?</strong></p>
<p>This is likely due to either (1) <code>Connect$server</code> or <code>Connect$api_key</code> being defined improperly or (2) you do not have access to the Posit Connect cluster to do the operation in question</p>
<p><strong>Warning about version numbers</strong></p>
<p>We test the package against a range of versions of Connect, as old as 1.8.8.2 (May 2021). If your Connect server is older than that, the package may still work, but <code>connectapi</code> will warn you.</p>
<p>We strive to:</p>
<ul>
<li>track the latest version of the Posit Connect API</li>
<li>add new features as they come available and have demand</li>
<li>maintain backwards compatibility</li>
</ul>
<p>These priorities are sometimes at odds, and sometimes they create inconsistencies between versions as a result. To mitigate this, we recommend:</p>
<ul>
<li>Track the version of <code>connectapi</code> in use for your applications by using <code>renv</code>
</li>
<li>Test high value content that uses <code>connectapi</code> before updating <code>connectapi</code> or Posit Connect</li>
<li>Update Posit Connect to the latest version <em>first</em> when an update to <code>connectapi</code> is needed</li>
</ul>
<p><strong>Error - Need to update Posit Connect</strong></p>
<p>As a helpful clarification for users, we have added error messages to API requests when the version implemented in the package specifically introduces a backwards incompatible dependency on older versions of Posit Connect.</p>
<p>If you get this error message, our recommendation would be:</p>
<ul>
<li>Look at <a href="./NEWS.html"><code>NEWS.md</code></a> to find the moment the change was introduced</li>
<li>Downgrade <code>connectapi</code> to the previous version of the package</li>
<li>(Advanced) Use the “blame” feature on GitHub to track commits and find out when the error was introduced</li>
</ul>
<p>Please feel free to open an Issue if you think there is a bug, or ask a free-form question on <a href="https://forum.posit.co/c/posit-professional-hosted/posit-connect/27" class="external-link">Posit Community</a></p>
<p><strong>Other ideas for FAQs or Common Issues?</strong></p>
<p>Please open an issue or PR! We would love to have your contribution!</p>
</div>
<div class="section level2">
<h2 id="code-of-conduct">Code of Conduct<a class="anchor" aria-label="anchor" href="#code-of-conduct"></a>
</h2>
<p>Please note that the connectapi project is released with a <a href="https://pkgs.rstudio.com/connectapi/CODE_OF_CONDUCT.html">Contributor Code of Conduct</a>. By contributing to this project, you agree to abide by its terms.</p>
</div>
</div>

  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=connectapi" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/rstudio/connectapi/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/rstudio/connectapi/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
<li><a href="SUPPORT.html">Getting help</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing connectapi</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Toph Allen <br><small class="roles"> Author, maintainer </small>  </li>
<li>Neal Richardson <br><small class="roles"> Author </small>  </li>
<li>Sean Lopp <br><small class="roles"> Author </small>  </li>
<li>Cole Arendt <br><small class="roles"> Author </small>  </li>
<li>Posit, PBC <br><small class="roles"> Copyright holder, funder </small>  </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Toph Allen, Neal Richardson, Sean Lopp, Cole Arendt, Posit, PBC.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
