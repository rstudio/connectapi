<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Getting Started with connectapi â€¢ connectapi</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Getting Started with connectapi">
<meta name="robots" content="noindex">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">connectapi</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.4.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/connectapi_tags.html">connectapi Tags</a></li>
    <li><a class="dropdown-item" href="../articles/content_permissions.html">Content Permissions</a></li>
    <li><a class="dropdown-item" href="../articles/customize-http.html">Customize HTTP Requests</a></li>
    <li><a class="dropdown-item" href="../articles/getting-started.html">Getting Started with connectapi</a></li>
    <li><a class="dropdown-item" href="../articles/lifecycle-statuses.html">Lifecycle Statuses</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/rstudio/connectapi/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Getting Started with connectapi</h1>
                        <h4 data-toc-skip class="author">Cole
Arendt</h4>
            
            <h4 data-toc-skip class="date">2024-11-27</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/rstudio/connectapi/blob/main/vignettes/getting-started.Rmd" class="external-link"><code>vignettes/getting-started.Rmd</code></a></small>
      <div class="d-none name"><code>getting-started.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="connecting">Connecting<a class="anchor" aria-label="anchor" href="#connecting"></a>
</h2>
<p>The first thing that you need to accomplish when using the
<code>connectapi</code> is getting connected to your Posit Connect
server. This requires the URL to your server and an API key. Directions
on how to get an API key are <a href="https://docs.posit.co/connect/user/api-keys/#api-keys" class="external-link">here</a>.</p>
<p>Once you have your API key, you can create a Connect object in your
code, like so:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://pkgs.rstudio.com/connectapi/">connectapi</a></span><span class="op">)</span></span>
<span><span class="va">client</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/connect.html">connect</a></span><span class="op">(</span></span>
<span>  server <span class="op">=</span> <span class="st">"http://example.com:3939"</span>,</span>
<span>  api_key <span class="op">=</span> <span class="st">"aihgaahegiahgg"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>The alternative is to define a <code>.Renviron</code> file, which
specifies environment variables:</p>
<pre><code>CONNECT_SERVER=http://example.com:3939
CONNECT_API_KEY=aihgaahegiahgg</code></pre>
<p>Then, those can be used in your code:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://pkgs.rstudio.com/connectapi/">connectapi</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># this happens by default if you restart your R session</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/readRenviron.html" class="external-link">readRenviron</a></span><span class="op">(</span><span class="st">".Renviron"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">client</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/connect.html">connect</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="content-management">Content Management<a class="anchor" aria-label="anchor" href="#content-management"></a>
</h2>
<p>The <code>connectapi</code> package has tools to help
programmatically deploy and manage content. To get started, you need to
use the <code>rsconnect</code> package, specifically the
<code><a href="https://rstudio.github.io/rsconnect/reference/writeManifest.html" class="external-link">rsconnect::writeManifest()</a></code> function, to build a
<code>manifest.json</code> file for a directory of content that you want
to deploy.</p>
<p>Once the <code>manifest.json</code> file is present, you can
reference the directory and deploy it directly:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">bnd</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/bundle_dir.html">bundle_dir</a></span><span class="op">(</span><span class="st">"./my/directory"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># name must be unique on the server</span></span>
<span><span class="co"># if you do not specify it, a random value will be provided</span></span>
<span><span class="va">content_1</span> <span class="op">&lt;-</span> <span class="va">client</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/deploy.html">deploy</a></span><span class="op">(</span><span class="va">bnd</span>, name <span class="op">=</span> <span class="st">"my-content"</span>, title <span class="op">=</span> <span class="st">"Amazing Report!!"</span><span class="op">)</span></span></code></pre></div>
<p>The content object (<code>content_1</code>) includes information
about the deployment that you just requested. This can be explored
with:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">content_1</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/poll_task.html">poll_task</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>Alternatively, you can immediately begin altering the settings of the
content object while you wait for deployment to complete:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">content_1</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/set_thumbnail.html">set_thumbnail</a></span><span class="op">(</span><span class="st">"https://gph.is/29vyb0s"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/set_vanity_url.html">set_vanity_url</a></span><span class="op">(</span><span class="st">"/my_clever_content"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># ensure the vanity URL is set as expected</span></span>
<span><span class="va">content_1</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/get_vanity_url.html">get_vanity_url</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>If you have content that already exists and you want to update it,
you can do so using the content GUID (which you can find within Posit
Connect in the Info pane).</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">content_2</span> <span class="op">&lt;-</span> <span class="va">client</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/deploy.html">deploy</a></span><span class="op">(</span><span class="va">bnd</span>, guid <span class="op">=</span> <span class="st">"d78ba9f8-bb57-422e-b164-9ecd8e4c4fd6"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/poll_task.html">poll_task</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>You can also use the Posit Connect content GUID to retrieve
information about existing content (if you want to examine or change
settings)</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">content_3</span> <span class="op">&lt;-</span> <span class="va">client</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/content_item.html">content_item</a></span><span class="op">(</span>guid <span class="op">=</span> <span class="st">"96532fbc-725e-441b-9cc6-a5622535241b"</span><span class="op">)</span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Toph Allen, Neal Richardson, Sean Lopp, Cole Arendt, Posit, PBC.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
