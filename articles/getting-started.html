<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Getting Started with connectapi â€¢ connectapi</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Getting Started with connectapi">
<meta property="og:description" content="connectapi">
<meta property="og:image" content="/logo.svg">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">connectapi</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0.9011</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/getting-started.html">Getting Started with connectapi</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/rstudio/connectapi/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Getting Started with connectapi</h1>
                        <h4 class="author">Cole Arendt</h4>
            
            <h4 class="date">2020-06-09</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/rstudio/connectapi/blob/master/vignettes/getting-started.Rmd"><code>vignettes/getting-started.Rmd</code></a></small>
      <div class="hidden name"><code>getting-started.Rmd</code></div>

    </div>

    
    
<div id="connecting" class="section level2">
<h2 class="hasAnchor">
<a href="#connecting" class="anchor"></a>Connecting</h2>
<p>The first thing that you need to accomplish when using the <code>connectapi</code> is getting connected to your RStudio Connect server. This requires the URL to your server and an API key. Directions on how to get an API key are <a href="https://docs.rstudio.com/connect/user/api-keys.html#api-keys">here</a>.</p>
<p>Once you have your API key, you can create a Connect object in your code, like so:</p>
<div class="sourceCode" id="cb1"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">connectapi</span>)
<span class="no">client</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/connect.html">connect</a></span>(
  <span class="kw">host</span> <span class="kw">=</span> <span class="st">"http://example.com:3939"</span>,
  <span class="kw">api_key</span> <span class="kw">=</span> <span class="st">"aihgaahegiahgg"</span>
)</pre></body></html></div>
<p>The alternative is to define a <code>.Renviron</code> file, which specifies environment variables:</p>
<pre><code>CONNECT_SERVER=http://example.com:3939
CONNECT_API_KEY=aihgaahegiahgg</code></pre>
<p>Then, those can be used in your code:</p>
<div class="sourceCode" id="cb3"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">connectapi</span>)

<span class="co"># this happens by default if you restart your R session</span>
<span class="fu"><a href="https://rdrr.io/r/base/readRenviron.html">readRenviron</a></span>(<span class="st">".Renviron"</span>)

<span class="no">client</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/connect.html">connect</a></span>()</pre></body></html></div>
</div>
<div id="content-management" class="section level2">
<h2 class="hasAnchor">
<a href="#content-management" class="anchor"></a>Content Management</h2>
<p>The <code>connectapi</code> package has tools to help programmatically deploy and manage content. To get started, you need to use the <code>rsconnect</code> package, specifically the <code><a href="https://rdrr.io/pkg/rsconnect/man/writeManifest.html">rsconnect::writeManifest()</a></code> function, to build a <code>manifest.json</code> file for a directory of content that you want to deploy.</p>
<p>Once the <code>manifest.json</code> file is present, you can reference the directory and deploy it directly:</p>
<div class="sourceCode" id="cb4"><html><body><pre class="r"><span class="no">bnd</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/bundle_dir.html">bundle_dir</a></span>(<span class="st">"./my/directory"</span>)

<span class="co"># name must be unique on the server</span>
<span class="co"># if you do not specify it, a random value will be provided</span>
<span class="no">content_1</span> <span class="kw">&lt;-</span> <span class="no">client</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/deploy.html">deploy</a></span>(<span class="no">bnd</span>, <span class="kw">name</span> <span class="kw">=</span> <span class="st">"my-content"</span>, <span class="kw">title</span> <span class="kw">=</span> <span class="st">"Amazing Report!!"</span>)</pre></body></html></div>
<p>The content object (<code>content_1</code>) includes information about the deployment that you just requested. This can be explored with:</p>
<div class="sourceCode" id="cb5"><html><body><pre class="r"><span class="no">content_1</span> <span class="kw">%&gt;%</span> <span class="fu"><a href="../reference/poll_task.html">poll_task</a></span>()</pre></body></html></div>
<p>Alternatively, you can immediately begin altering the settings of the content object while you wait for deployment to complete:</p>
<div class="sourceCode" id="cb6"><html><body><pre class="r"><span class="no">content_1</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/set_image.html">set_image_url</a></span>(<span class="st">"https://gph.is/29vyb0s"</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/set_vanity_url.html">set_vanity_url</a></span>(<span class="st">"/my_clever_content"</span>)

<span class="co"># ensure the vanity URL is set as expected</span>
<span class="no">content_1</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/get_vanity_url.html">get_vanity_url</a></span>()</pre></body></html></div>
<p>If you have content that already exists and you want to update it, you can do so using the content GUID (which you can find within RStudio Connect in the Info pane).</p>
<div class="sourceCode" id="cb7"><html><body><pre class="r"><span class="no">content_2</span> <span class="kw">&lt;-</span> <span class="no">client</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/deploy.html">deploy</a></span>(<span class="no">bnd</span>, <span class="kw">guid</span> <span class="kw">=</span> <span class="st">"d78ba9f8-bb57-422e-b164-9ecd8e4c4fd6"</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/poll_task.html">poll_task</a></span>()</pre></body></html></div>
<p>You can also use the RStudio Connect content GUID to retrieve information about existing content (if you want to examine or change settings)</p>
<div class="sourceCode" id="cb8"><html><body><pre class="r"><span class="no">content_3</span> <span class="kw">&lt;-</span> <span class="no">client</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/content_item.html">content_item</a></span>(<span class="kw">guid</span> <span class="kw">=</span> <span class="st">"96532fbc-725e-441b-9cc6-a5622535241b"</span>)</pre></body></html></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Sean Lopp, Cole Arendt, <a href="https://www.rstudio.com"><img src="https://www.tidyverse.org/rstudio-logo.svg" alt="RStudio" height="24"></a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.9000.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
